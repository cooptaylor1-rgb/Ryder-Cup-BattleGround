# WORKLOG — Ryder Cup Web Improvements

All times America/New_York.

## 2026-02-04
- 18:00 — Started NOW batch: Phase 1 sweep (blank-screen `return null`), PageHeader unification, token audit (RGB vars), Score page perf (holeResults index).
- 18:10 — Shipped batch: added `PageHeader` + migrated Score/Standings/Stats; Matchups now shows explicit empty state (no redirect); token audit added `--masters-rgb`/`--canvas-rgb` + `--masters-deep`; Score page perf indexed holeResults by matchId. (commit 7bef19b)

## 2026-02-05
- 01:25 — Shipped batch: added explicit signed-out empty states for Schedule + Score (with CTAs to `/login`) and included `BottomNav` for consistent navigation. (commit 85f9312)
- 01:40 — Shipped batch: spectator mode (`/spectator/[tripId]`) now distinguishes load failures vs not-found, with a Retry path; refresh errors no longer blank the previously-loaded view. (commit a288c13)
- 01:55 — Shipped batch: updated `/lineup/new` to use the shared `BottomNav` (replacing the custom nav) and added explicit premium empty states for **No trip selected** + **Captain Mode required** so navigation is always clear. (commit a8dc84c)
- 02:05 — Shipped batch: Complete Profile (`/profile/complete`) now renders explicit premium empty states (signed out + already onboarded) instead of auto-redirecting; added `BottomNav` to keep navigation clear. (commit 2bc0cf3)
- 03:45 — Shipped batch: Courses (`/courses`) and New Course (`/courses/new`) now include the standard premium wrapper (`pb-nav`) and `BottomNav`, including in the course database search modal, so navigation is always available. (commit 0b57d6f)
- 10:20 — Shipped batch: Scoring match detail (`/score/[matchId]`) now shows an explicit signed-out premium empty state (Sign In + Back to Score CTAs) and includes `BottomNav` so deep links aren’t dead ends when unauthenticated. (commit 278add9)
- 10:45 — Shipped batch: Standings Fun Stats tab now uses the standard `EmptyStatePremium` for the “No stats yet” state, with a clear CTA to start tracking Trip Stats. (commit e52f2b0)
- 10:55 — Shipped batch: Standings Fun Stats category sections now precompute displayable categories instead of `return null` inside `map()`, and fall back to the premium empty state if nothing renders (edge case). (commit 1de47dc)
- 11:20 — Shipped batch: Captain pages now render explicit premium empty states (no-trip / Captain Mode off) instead of auto-redirecting away, preventing confusing skeleton/blank-ish flashes. (commit 8e794b6)
- 17:15 — Shipped batch: Docs — added a dedicated `rg` sweep command for detecting top-level `return null;` blank-screen returns in route `page.tsx` files. (commit 21ec8be)
- 20:10 — Shipped batch: removed missing-trip auto-redirects on Social + Live; now uses consistent `EmptyStatePremium` + `BottomNav` so users land on a clear explanation + navigation. (commit 76198a5)
- 20:45 — Shipped batch: Achievements removed missing-trip auto-redirect; now shows a premium empty state with clear CTAs. (commit c3fdca6)
- 21:10 — Shipped batch: Stats hub uses a consistent premium empty state (no active trip) and includes `BottomNav`. (commit f798894)
- 21:18 — Shipped batch: Schedule + Score now treat unauthenticated “no current user” as `undefined` (not `null`) in the `currentUserPlayer` memo, reducing `null` sentinels in route code. (commit 8e82188)
- 21:35 — Shipped batch: Matchups uses a consistent premium empty state (no active trip) and includes `BottomNav`. (commit a09ca56)
- 22:05 — Shipped batch: updated Trip Stats + Trip Awards to use the standard premium page wrapper and added `BottomNav` so navigation is always clear (including no active trip / no stats yet). (commit 6dccf48)
- 22:30 — Shipped batch: Trip Settings (`/trip/[tripId]/settings`) now uses the standard premium wrapper + `BottomNav` and renders explicit loading/error/not-found states. (commit 4c70f5e)
- 22:55 — Shipped batch: Live (`/live`) now renders explicit premium empty states for **No active session** and **No live matches**, each with clear CTAs to Schedule/Matchups. (commit ff1070a)
- 23:05 — Shipped batch: hardened the per-trip Trip Awards route (`/trip/[tripId]/awards`) with the standard premium wrapper, `BottomNav`, and explicit loading/error/empty states. (commit 31e5a1b)
- 23:05 — Shipped batch: Backup & Restore (`/settings/backup`) now renders explicit loading/load-error/no-trips empty states + includes `BottomNav` (no silent failures). (commit 6604d23)
- 23:34 — Shipped batch: added `BottomNav` across the match scoring detail page (main + unavailable/error states) so there’s always a clear way to navigate back out. (commit 5455aea)
- 23:58 — Shipped batch: added `BottomNav` + standardized premium wrappers to Players + Standings (including no-trip and loading states). (commit 659edbb)
- 17:40 — Phase 1 (batch 63): sweep note: re-ran the strict `rg "^\s*return null;\s*$"` route scan and confirmed there are no remaining top-level `return null;` blank-screen returns in `src/app/**/page.tsx`; remaining `return null` hits in routes are limited to internal helpers/`useMemo` values (not user-facing blank screens).

## 2026-02-06
- 00:25 — Shipped batch: standardized `BottomNav` usage on More + Settings (More now includes `BottomNav`; Settings replaces the custom nav with the shared component). (commit df99c05)
- 00:55 — Shipped batch: standardized `BottomNav` usage on Bets + Bet Detail, replaced the custom nav with the shared component, and added explicit premium no-trip / loading / not-found states. (commit 256af68)
- 01:10 — Shipped batch: Captain routes’ empty-state screens upgraded to the standard premium wrapper and include `BottomNav`, so navigation is always available even when Captain Mode is off / no trip is selected. (commit 65f183e)
- 02:10 — Shipped batch: Schedule (`/schedule`) now uses the shared `PageHeader` across signed-out, no-trip, and main states for consistent premium navigation.
- 03:45 — Shipped batch: Worklog sync — ensured the web worklog reflects the shipped Phase 1 improvements so in-repo history matches Lobster worklog. (commit b039ec6)
- 04:20 — Shipped batch: Achievements now uses the shared `BottomNav` (including no-trip and loading states). Settings subpages (Appearance/Scoring/Notifications) now include `BottomNav` + `pb-nav` so navigation is always available. (commit bb1f9e3)
- 04:45 — Shipped batch: app-level Not Found + route error pages standardized to the premium layout (`pb-nav` + texture) and now include `BottomNav` so recovery screens aren’t dead ends. (commit 6987064)
- 04:58 — Shipped batch: lint hygiene — removed unused imports (Players, Bets, Course library search API route). (commit 3770052)
- 05:35 — Shipped batch: added `BottomNav` to Login (`/login`) and Admin (`/admin`) so signed-out / access-gated screens still have clear navigation. (commit 9da832a)
- 06:05 — Shipped batch: lint hygiene — removed / underscored unused variables to reduce lint noise (New Lineup, Create Profile icons, PendingSyncIndicator catch). (commit 8b69976)
- 06:30 — Shipped batch: lint hygiene — removed an unused `eslint-disable-next-line react-hooks/preserve-manual-memoization` from `featureFlags.tsx` to reduce warning noise. (commit 971f463)
- 07:55 — Shipped batch: Profile now keeps `BottomNav` visible while editing by lifting the fixed “Save Changes” bar above the nav height (no dead-end edit mode). (commit b6a3f87)
- 08:20 — Shipped batch: More (`/more`) now shows an explicit premium empty state when every menu section is hidden by context (signed out / no trip / Captain-only tools), preventing a confusing “blank” hub. (commit 16f8a0a)
- 08:55 — Shipped batch: Settings — Backup & Restore (`/settings/backup`) loading state now uses `PageLoadingSkeleton title="Backup & Restore" variant="list"` so the skeleton is correctly labeled and matches the standard list layout. (commit a838d0e)
- 10:05 — Shipped batch: Profile Create (`/profile/create`) now includes the standard premium wrapper + `BottomNav`, and the fixed bottom actions are lifted above the nav height so onboarding screens aren’t dead ends. (commit 016fe81)
- 11:40 — Shipped batch: lint hygiene sweep — removed unused icon imports/vars, fixed hook deps in AuthGuard, and stabilized memo deps in Vegas side game card (reduces lint warnings without behavior changes).
- 12:15 — Shipped batch: Standings Fun Stats: removed `return null` usage inside the stat-type map (uses a reduce/push) to avoid silent render gaps and keep Phase 1 “no blank returns” consistent. (commit c185928)
- 12:45 — Shipped batch: Spectator Mode (`/spectator/[tripId]`) adds bottom padding so the fixed “Last updated” footer doesn’t cover the last section on smaller screens. (commit baee815)
- 13:15 — Shipped batch: `/lineup/new` precomputes and filters format categories instead of `return null` inside the format category map, preventing silent render gaps when filters hide a category. (commit 6087b1e)
- 13:45 — Shipped batch: Settings subpages (`/settings/appearance`, `/settings/scoring`) upgraded to the standard premium wrapper + shared `PageHeader` for consistent navigation and layout. Scoring toggles aligned to the actual `ScoringPreferences` keys (no orphan controls). (commit 7a45cc3)
- 14:01 — Shipped batch: Captain Bets winner selection no longer uses `return null` inside `map()` when a participant record is missing; we now prefilter so the UI never silently drops buttons. (commit 1f44b15)
- 14:35 — Shipped batch: Standings Fun Stats CTAs now use `router.push()` instead of `window.location.href` to avoid full page reloads and keep navigation consistent. (commit 3d2bac3)
- 15:55 — Shipped batch: Settings — Notifications (`/settings/notifications`) now uses the standard premium wrapper + shared `PageHeader` (removes bespoke sticky header) for consistent Settings navigation. (commit 354e05a)
- 16:25 — Shipped batch: Captain Bets winner selection buttons now prefilter with `flatMap()` instead of `return null` inside `map()`, avoiding silent render gaps if a participant record is missing. (commit 0805cd2)
- 16:45 — Shipped batch: Stableford scorecard score input buttons now prefilter valid values instead of `return null` inside `map()` to avoid silent render gaps and keep the Phase 1 “no null map returns” pattern consistent. (commit 22191a2)
- 18:10 — Shipped batch: Social Stats dashboard leaderboard prefilters valid player rows instead of `return null` inside `map()`, keeping the UI stable and ranks consistent if a player record is missing. (commit 75548bb)
- 19:25 — Shipped batch: Settings — Backup & Restore (`/settings/backup`) upgraded to the standard premium wrapper + shared `PageHeader` (Back → `/settings`) for consistent Settings navigation. (commit 0cf31a4)
- 19:40 — Shipped batch: Global error page uses `router.push('/')` instead of `window.location.href` for the “Go Home” action, keeping recovery navigation consistent with App Router semantics. (commit 2d4641c)
- 19:40 — Shipped batch: removed the last exact `return null;` statements in route code by deleting an unused Schedule helper and returning `undefined` from the Score Match Detail `nextIncompleteMatch` memo. (commit dc0ca4d)
- 20:20 — Shipped batch: Profile Completion Reward / Golf Superlatives / Achievements (compact) now prefilter definitions instead of `return null` inside `map()`, avoiding silent render gaps. (commit 3e0ee18)
- 20:35 — Shipped batch: Trip Settings (`/trip/[tripId]/settings`) now uses the shared `PageHeader` component (Back → Trip, Home in `rightSlot`) so the route matches the standard premium header pattern across all states. (commit a40d29e)
- 20:55 — Shipped batch: minor optional-value hygiene — switched a few internal helpers from `null` to `undefined` (Schedule countdown memo, Players `getPlayerTeam`, Bets Nassau summary) to reduce `null` sentinels in route code. (commit 25adf90)
- 22:10 — Shipped batch: Trip Recap component prefilters matches with computed state (no `return null` inside the match list render) and filters missing player records so names don’t render as empty strings. (commit 8a07584)
- 23:15 — Shipped batch: Profile (`/profile`) loading state now uses the standard premium wrapper + shared `PageHeader` and includes `BottomNav`, so the route is never a navigation dead end while auth is still loading. (commit 023ed48)
- 23:20 — Shipped batch: Bets (`/bets`) no-trip state is now the standard premium wrapper + `PageHeader` + `BottomNav` (and removed a duplicate early-return block that was preventing the upgraded state from rendering). (commit 0ed199a)
- 01:02 — Shipped batch: Players (`/players`) now uses the shared `PageHeader` (captain actions stay available via `rightSlot`) for consistent premium navigation. (commit c315aba)
- 01:30 — Shipped batch: removed the remaining `return null` occurrences from route `page.tsx` files by switching a few internal memos/state sentinels to `undefined` (Score match detail quick-score pending + session/hole memos; Bet detail linked-match query when no matchId). Keeps the Phase 1 `rg "return null"` sweep clean. (commit cd811e2)
- 01:55 — Docs: logged Phase 1 route sweep verification (no remaining route-level blank-screen patterns found). (commit d4c5c7f)
- 02:30 — Shipped batch: New Trip (`/trip/new`) migrated off legacy `AppShell` onto the standard premium wrapper + shared `PageHeader`, keeping `BottomNav` visible throughout the multi-step flow (no navigation dead ends). (commit ddb8690)
- 02:55 — Shipped batch: Settings hub (`/settings`) now links Notifications + Backup to the dedicated `/settings/notifications` and `/settings/backup` pages; Notifications page wrapper now includes the premium background canvas for consistency. (commit 7cea01b)
- 04:15 — Shipped batch: Login (`/login`) now uses the standard premium wrapper enter/texture classes and fixes a stray “Golf Buddies” string for consistent branding/copy. (commit ee6ad19)
- 04:50 — Shipped batch: Social (`/social`) migrated off the bespoke header + hand-rolled bottom nav onto the shared `PageHeader` + `BottomNav`, keeping the message composer pinned above nav for consistent premium navigation. (commit 5354ae6)
- 05:15 — Shipped batch: Achievements (`/achievements`) now uses the shared `PageHeader` and the standard `PageLoadingSkeleton` (grid) instead of bespoke header/loading markup. (commit 5545df4)
- 05:45 — Shipped batch: Players + Standings error boundaries upgraded to the standard premium wrapper (`PageHeader` + texture + `pb-nav`) and now include `BottomNav` so recovery screens aren’t dead ends. (commit e14c286)
- 06:15 — Shipped batch: Social Photos (`/social/photos`) migrated off the bespoke premium header onto the shared `PageHeader`, keeping the view toggle + upload actions in `rightSlot`. (commit d114a9b)
- 07:15 — Shipped batch: Trip Settings (`/trip/[tripId]/settings`) removed an unused `next/link` import (lint hygiene; no UI change). (commit b152413)
- 08:25 — Shipped batch: Trip Stats (/trip-stats) no longer blocks the first stat entry behind a "No stats yet" screen; we now render the tracking UI even at zero so users can start recording immediately. Also standardized the no-trip state to use the shared premium wrapper + container-editorial. (commit 0f1ca16)
- 09:20 — Shipped batch: Live Scores (/live) migrated off the bespoke header + hand-rolled bottom nav onto the shared PageHeader + BottomNav, with sound/fullscreen/refresh controls in PageHeader.rightSlot. (commit a6555c9)
- 09:55 — Shipped batch: Lineup Session (`/lineup/[sessionId]`) migrated off the bespoke header + hand-rolled bottom nav onto the shared `PageHeader` + `BottomNav`, and standardized the wrapper to the premium layout for consistent navigation. (commit a36bfe2)
- 10:25 — Shipped batch: Settings hub (`/settings`) replaced bespoke `header-premium` markup with the shared `PageHeader` for consistent premium navigation. (commit 6879433)
- 10:55 — Shipped batch: Settings — Notifications (`/settings/notifications`) removed invalid Tailwind “CSS var” class syntax that could cause missing styles; standardized to CSS variable inline styles while keeping shared `PageHeader` + `BottomNav`. (commit 3371b11)
- 11:25 — Shipped batch: Profile (`/profile`) migrated the authenticated state onto the standard premium wrapper (`pb-nav` + texture + premium enter) and replaced the bespoke sticky header with the shared `PageHeader` for consistent navigation. (commit 482d2ac)
- 11:58 — Shipped batch: Day Summary modal now renders an explicit “No active trip” state instead of returning `null`, so opening the summary overlay can’t silently do nothing. (commit 0ab52cd)
- 12:15 — Shipped batch: Quick Score modal now renders explicit “Loading match…” and “Match unavailable” states instead of returning `null`, so opening Quick Score can’t silently do nothing. (commit a60c681)
- 13:00 — Shipped batch: New Course (/courses/new) Scan Scorecard CTA removed invalid Tailwind CSS-var hover classes; now uses standard "press-scale" interaction (no style regressions in production builds). (commit cdd0159)
- 13:55 — Shipped batch: New Course (`/courses/new`) replaced bespoke `header-premium` markup with the shared `PageHeader` for consistent premium navigation (keeps existing `BottomNav`). (commit cd161c6)
- 14:35 — Shipped batch: Captain hub (`/captain`), Captain Audit Log (`/captain/audit`), and Invitations (`/captain/invites`) migrated off bespoke `header-premium` markup onto the shared `PageHeader`, and the Captain hub + Invitations routes now use the shared `BottomNav` instead of hand-rolled nav markup for consistent premium navigation. (commit 1941d5b)
- 15:25 — Shipped batch: New Session / Lineup (`/lineup/new`) and Captain pages (`/captain/availability`, `/captain/carts`, `/captain/contacts`) migrated off bespoke `header-premium` markup onto the shared `PageHeader`. Contacts now uses the shared `BottomNav`. `PageHeader` now supports `iconContainerStyle` so routes can keep custom icon gradients while standardizing structure. (commit 374f7b0)
- 15:30 — Shipped batch: Course Library (`/courses`) + Scan Scorecard upload + Quick Score modal replaced invalid Tailwind “CSS var” class syntax (e.g. `hover:border-(--masters)`, `ring-(--team-usa)`) with valid arbitrary-value forms like `hover:border-[var(--masters)]` and `ring-[var(--team-usa)]` to prevent silent missing styles. (commit b428a85)
- 15:45 — Shipped batch: Score (match list) (`/score`) signed-out and no-trip screens now include the shared `PageHeader` (with `BottomNav`) for consistent premium navigation instead of dropping straight into a bare empty state. (commit 5299a11)
- 16:15 — Shipped batch: Captain Messages, Draft, and Captain Settings now use the shared `PageHeader` and shared `BottomNav` (replacing bespoke header and hand-rolled nav markup) for consistent premium navigation across captain tools. (commit 842aa60)
- 16:50 — Shipped batch: Bets list + Bet Detail migrated from bespoke `header-premium` markup onto the shared `PageHeader`, and Standings loading state now uses the standard `PageLoadingSkeleton` for consistent premium navigation + loading behavior. (commit 47e8ac0)
- 18:40 — Shipped batch: removed remaining `return null` inside list `map()` calls in two UI components (Captain Emergency Contacts player groups; Side Bet Opt-In categories) by prefiltering empty groups/categories for stable rendering. (commit 44c8299)

## 2026-02-07
- 10:50 — Shipped batch: Captain Carts (`/captain/carts`) now uses the shared `BottomNav` instead of bespoke nav markup. Also replaced invalid Tailwind CSS-var class syntax (e.g. `text-(--ink-tertiary)`) with valid arbitrary-value forms (e.g. `text-[var(--ink-tertiary)]`) in `StandingsCard`, `HoleIndicator`, and `MatchPredictions` to prevent silent missing styles. (commit 35d80e6)
- 12:58 — Shipped batch: fixed remaining invalid Tailwind CSS-var class syntax in `PremiumComponents` + captain UIs (e.g. `text-(--team-usa)`/`bg-(--team-usa)/10` and `ring-(--masters)`) by switching to valid arbitrary-value forms like `text-[var(--team-usa)]`, `bg-[color:var(--team-usa)]/10`, and `ring-[var(--masters)]` so styles don't silently fail. (commit c5ed264)
- 13:25 — Docs: added a fast `rg` sweep command to detect invalid Tailwind CSS-var class syntax (e.g. `text-(--ink-tertiary)`) that can silently break styles. (commit a9319a2)
- 13:55 — Shipped batch: Lineup Builder (`/lineup/builder`) migrated to the standard premium wrapper (`pb-nav page-premium-enter texture-grain`) and replaced legacy hard-coded colors with CSS variables for consistent theming + navigation. BottomNav is now always present. (commit 22c5064)
- 14:55 — Shipped batch: Momentum Meter (compact) now shows an explicit placeholder ("No holes yet") instead of silently returning `null` when no holes have been played. (commit 40653c1)
- 15:20 — Shipped batch: Home (`/`) migrated from bespoke header + hand-rolled loading skeleton to the shared `PageHeader` and `PageLoadingSkeleton`, and now uses the standard premium wrapper (`texture-grain`, `min-h-screen`) for consistent navigation + loading. (commit 5720717)
- 16:40 — Shipped batch: Players + Standings no-active-trip premium empty states now include the shared `PageHeader` (Back + icon + subtitle) so those states match the standard Phase 1 navigation pattern. (commit 6b37c01)
- 17:55 — Shipped batch: Phase 1 (batch 109) — Fixed 30+ remaining invalid Tailwind CSS-var syntax across PremiumComponents, QuickPlayerSwap, CourseSetupConfirmation, MatchCardGenerator. Removed 22 unused imports/variables (lint warnings 72→50). Removed 13 unused Augusta-themed legacy colors from Tailwind config. Migrated `magnolia`→`canvas` and `azalea`→`error` across all components/stories/tests, then removed both legacy aliases. Fixed anonymous default export in PremiumComponents. (commit ba72d57)

## 2026-02-09
- 20:55 — Shipped batch: Admin (`/admin`), Captain Manage (`/captain/manage`), and Captain Side Bets (`/captain/bets`) migrated off bespoke `header-premium` markup onto the shared `PageHeader` for consistent premium navigation (including the Admin Mode Required gate state). (commit 67b5fc4)
- 21:20 — Shipped batch: Course Library (`/courses`) and its “Search Course Database” view migrated off bespoke header markup onto the shared `PageHeader`. Lineup Builder (`/lineup/builder`) also now uses `PageHeader`, keeping the Save button in `rightSlot` so navigation is consistent. (commit 1251567)
- 22:25 — Shipped batch: Score (match list) (`/score`) now uses the standard premium wrapper classes (`pb-nav page-premium-enter texture-grain bg-[var(--canvas)]`) instead of inline styles for consistent theming/navigation. (commit dfe9fc5)
